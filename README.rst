sphinx-autobuild
================

Watch a Sphinx directory and rebuild the documentation when a change is
detected. Also includes a livereload enabled web server.


.. image:: https://img.shields.io/travis/GaretJax/sphinx-autobuild.svg
   :target: https://travis-ci.org/GaretJax/sphinx-autobuild
.. image:: https://img.shields.io/pypi/v/sphinx-autobuild.svg
   :target: https://pypi.python.org/pypi/sphinx-autobuild
.. image:: https://img.shields.io/coveralls/GaretJax/sphinx-autobuild/develop.svg
   :target: https://coveralls.io/r/GaretJax/sphinx-autobuild?branch=develop
.. image:: https://img.shields.io/badge/docs-latest-brightgreen.svg
   :target: http://sphinx-autobuild.readthedocs.org/en/latest/
.. image:: https://img.shields.io/pypi/l/sphinx-autobuild.svg
   :target: https://github.com/GaretJax/sphinx-autobuild/blob/develop/LICENSE


Installation
------------

You can use ``pip`` to install the package along with its requirements::

    pip install sphinx-autobuild


Usage
-----

The package installs a single executable script, named ``sphinx-autobuild``.
The script takes the same arguments as the ``sphinx-build`` command installed
by Sphinx plus the following options:

* ``-p``/``--port`` option to specify the port on which the documentation shall be served (default 0)
* ``-H``/``--host`` option to specify the host on which the documentation shall be served (default 127.0.0.1)
* ``-i``/``--ignore`` multiple allowed, option to specify file ignore glob expression when watching changes, for example: `*.tmp`
* ``-z``/``--watch`` multiple allowed, option to specify additional directories
  to watch, for example: `some/extra/dir`

To build a classical Sphinx documentation set, issue the following command::

    $ sphinx-autobuild docs docs/_build/html
    Serving on http://127.0.0.1:16458


And then visit the webpage served at the URL shown (in this case, port 16458
was randomly chosen). Each time a change to the documentation source is
detected, the HTML is rebuilt and the browser automatically reloaded.

If you want to force the listening port to be a specific port (e.g., 8000), use::

    $ sphinx-autobuild -p 8000 docs docs/_build/html
    Serving on http://127.0.0.1:8000

You can now visit the webpage served at http://127.0.0.1:8000 instead.

To stop the server simply press ``^C``.


Makefile integration
--------------------

To integrate the sphinx-autobuild command in the Makefile generated by Sphinx,
add the following target::

    livehtml:
        sphinx-autobuild -b html $(ALLSPHINXOPTS) $(BUILDDIR)/html

Then run with::

    $ make livehtml
    Serving on http://127.0.0.1:17401

